{% extends "base.html" %}

{% block content %}
<main class="container">
    <header class="intro" id="home">
        <h1 class="intro-name">Gavin Mason</h1>
        <p class="intro-tagline">Computer Engineering @ Virginia Tech</p>
        <nav class="intro-links">
            <a href="{{ config.extra.linkedin }}" target="_blank" rel="noopener">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
                LinkedIn
            </a>
            <a href="{{ config.extra.codeberg }}" target="_blank" rel="noopener">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
                Codeberg
            </a>
            <a href="mailto:{{ config.extra.email }}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                Email
            </a>
        </nav>
    </header>

    {% set opensource = get_section(path="opensource/_index.md") %}
    <section id="open-source">
        <h2>{{ opensource.title }}</h2>
        
        <div class="contributions-list">
            {% for page in opensource.pages %}
            <article class="contribution-card">
                {% if page.extra.screenshot %}
                <img src="{{ page.extra.screenshot }}" alt="{{ page.title }}" class="project-screenshot" loading="lazy">
                {% endif %}
                <div class="project-content">
                    {% if page.extra.repo %}
                    <div class="contribution-header">
                        <span class="contribution-repo">{{ page.extra.repo }}</span>
                    </div>
                    {% endif %}
                    <h3 class="contribution-title">
                        {% if page.extra.url %}<a href="{{ page.extra.url }}" target="_blank" rel="noopener">{{ page.title }}</a>{% else %}{{ page.title }}{% endif %}
                    </h3>
                    <div class="contribution-description">{{ page.content | safe }}</div>
                    {% if page.extra.impact %}
                    <p class="contribution-impact">{{ page.extra.impact }}</p>
                    {% endif %}
                    {% if page.extra.tech %}
                    <div class="project-tech">
                        {% for t in page.extra.tech %}
                        <span class="tech-tag">{{ t }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                    {% if page.extra.source %}
                    <div class="project-links">
                        <a href="{{ page.extra.source }}" target="_blank" rel="noopener">source &rarr;</a>
                    </div>
                    {% endif %}
                </div>
            </article>
            {% endfor %}
        </div>
    </section>

    {% set projects = get_section(path="projects/_index.md") %}
    <section id="projects">
        <h2>{{ projects.title }}</h2>
        
        <div class="projects-grid">
            {% for page in projects.pages %}
            <article class="project-card {% if page.extra.featured %}featured{% endif %}">
                {% if page.extra.screenshots %}
                <div class="project-screenshots-row">
                    {% for img in page.extra.screenshots %}
                    <img src="{{ img }}" alt="{{ page.title }}" loading="lazy">
                    {% endfor %}
                </div>
                {% endif %}
                <div class="project-content">
                    <div class="project-header">
                        <h3 class="project-title">
                            <a href="{{ page.extra.url }}" target="_blank" rel="noopener">{{ page.title }}</a>
                        </h3>
                        {% if page.extra.featured %}
                        <span class="project-badge">Featured</span>
                        {% endif %}
                    </div>
                    <div class="project-description">{{ page.content | safe }}</div>
                    {% if page.extra.tech %}
                    <div class="project-tech">
                        {% for t in page.extra.tech %}
                        <span class="tech-tag">{{ t }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                    <div class="project-links">
                        {% if page.extra.url and not page.extra.source %}
                        <a href="{{ page.extra.url }}" target="_blank" rel="noopener">{{ page.extra.url | replace(from="https://", to="") }} &rarr;</a>
                        {% endif %}
                        {% if page.extra.source %}
                        <a href="{{ page.extra.source }}" target="_blank" rel="noopener">source &rarr;</a>
                        {% endif %}
                        {% if page.extra.download %}
                        <a href="{{ page.extra.download }}" target="_blank" rel="noopener">download &rarr;</a>
                        {% endif %}
                    </div>
                    {% if page.extra.users %}
                    <div class="project-metrics">
                        <div class="metric"><span>{{ page.extra.users }}</span> users</div>
                    </div>
                    {% endif %}
                </div>
            </article>
            {% endfor %}
        </div>
    </section>

    {% set hackathons = get_section(path="hackathons/_index.md") %}
    <section id="hackathons">
        <h2>{{ hackathons.title }}</h2>
        
        <div class="hackathons-list">
            {% for page in hackathons.pages %}
            <div class="hackathon-item">
                <span class="hackathon-date">{{ page.extra.date }}</span>
                <div class="hackathon-content">
                    <div class="hackathon-name">{{ page.title }}</div>
                    {% if page.extra.location %}
                    <div class="hackathon-location">{{ page.extra.location }}</div>
                    {% endif %}
                    <div class="hackathon-project">{{ page.content | striptags | trim }}</div>
                </div>
                {% if page.extra.award %}
                <span class="hackathon-award">{{ page.extra.award }}</span>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </section>

    <footer class="contact" id="contact">
        <div class="contact-links">
            <a href="mailto:{{ config.extra.email }}">{{ config.extra.email }}</a>
            <span class="contact-sep">/</span>
            <a href="{{ config.extra.linkedin }}" target="_blank" rel="noopener">LinkedIn</a>
            <span class="contact-sep">/</span>
            <a href="{{ config.extra.codeberg }}" target="_blank" rel="noopener">Codeberg</a>
        </div>
    </footer>
</main>
{% endblock %}
